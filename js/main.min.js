function l(e){"use strict";console.log(e)}var siteInit,Ajaxy,windowHeight=$(window).height(),windowWidth=$(window).width(),animationSpeed=700,slideMargin=parseInt($("#header").css("padding-top"),10),headerTop=$("#header").offset().top,headerHeight=$("#header").outerHeight(),sliderHeight=windowHeight-headerHeight-slideMargin;siteInit=function(){Ajaxy.init(),$(".cycle-slideshow").cycle();var e={openSlideshow:function(e){var i=this;if($(".slider-content").hasClass("slider-hidden")){var n;$(".cycle-slideshow").cycle("goto",e),$(".masonry-content").addClass("masonry-hidden"),$("#single-vimeo-embed").addClass("vimeo-hidden"),i.lazyloadSlideshow(),n=setTimeout(function(){$(".masonry-content").hide(),$(".slider-content").removeClass("slider-hidden"),$("#close-slider").removeClass("u-hidden"),$("#close-single").addClass("u-hidden")},animationSpeed)}},closeSlideshow:function(){var e;$(".slider-content").addClass("slider-hidden"),e=setTimeout(function(){$(".masonry-content").show(),$(".js-masonry-container").masonry(),$("#single-vimeo-embed").removeClass("vimeo-hidden"),$(".masonry-content").removeClass("masonry-hidden"),$(".slider-content").addClass("slider-hidden"),$("#close-slider").addClass("u-hidden"),$("#close-single").removeClass("u-hidden")},animationSpeed)},lazyloadSlideshow:function(){$(".cycle-slideshow").imagesLoaded(function(){$(".js-lazyload-slideshow").each(function(){var e=$(this),i=e.data("src");e.attr("src",i)})})}};jQuery(document).ready(function(){"use strict";if($("#splash").length){var i=setTimeout(function(){$("html, body").animate({scrollTop:$("#main-container").offset().top},animationSpeed)},3e3);$("#splash").height(windowHeight),$("#main-container").removeClass("u-hidden").css("min-height",windowHeight),$(window).on("scroll",function(){$(window).scrollTop()>=$("#main-container").offset().top&&$("#splash").length&&n()}),$("#splash").on("click",function(){$(window).disablescroll({handleScrollbar:!1}),setTimeout(function(){$(window).disablescroll("undo")},animationSpeed),$("html, body").animate({scrollTop:$("#main-container").offset().top},animationSpeed)});var n=function(){$("#splash").remove(),$(".splash-margin").css("margin-top",0),$(window).scrollTop(0),clearTimeout(i)}}$(".js-masonry-container").length&&$(".js-masonry-container").imagesLoaded(function(){$(".js-masonry-container").masonry({itemSelector:".js-masonry-item",columnWidth:1,gutter:0,transitionDuration:"0s"}).css({opacity:1}),$(".feed-item-title").length&&$(".feed-item-title").css("visibility","visible")}),$("video").length&&$("video").on({mouseenter:function(){this.play()},mouseleave:function(){this.pause()}}),$(".slider-content").length&&($(".slider-item").css("height",sliderHeight),$(".slider-img").css("max-height",sliderHeight),$(document).keydown(function(i){switch(i.which){case 37:$(".cycle-slideshow").cycle("prev");break;case 39:$(".cycle-slideshow").cycle("next");break;case 27:e.closeSlideshow();break;default:return}})),$(".js-single-masonry-item").on({click:function(){if(windowWidth>468){var i=$(this).data("index");e.openSlideshow(i)}}}),$("#close-slider").on({click:function(){e.closeSlideshow()}}),$("#main-container").css("padding-top",headerHeight),$("#splash").length?$(window).bind("scroll",function(){$(window).scrollTop()>0&&$("#splash-title").fadeOut(animationSpeed),headerTop=$("#splash").length?$("#header").offset().top:0,!$("#header").hasClass("u-fixed")&&$(window).scrollTop()>headerTop&&($("#header").addClass("u-fixed"),$(window).unbind("scroll"))}):$("#header").addClass("u-fixed"),$(window).on("resize",function(){windowHeight=$(window).height(),windowWidth=$(window).width(),headerHeight=$("#header").outerHeight(),slideMargin=parseInt($("#header").css("padding-top"),10),sliderHeight=windowHeight-headerHeight-slideMargin,$("#main-container").css("min-height",windowHeight),$("#splash").length&&$("#splash").height(windowHeight),$(".slider-content").length&&($(".slider-item").css("height",sliderHeight),$(".slider-img").css("max-height",sliderHeight))})})},Ajaxy={init:function(){var e=this,i="a.ajax-link";($("body").hasClass("page")||$("body").hasClass("blog")||$("body").hasClass("category"))&&(i+=", .js-menu-filter, #pagination a"),$(i).click(function(i){i.preventDefault();var n=i.currentTarget.href;$("#loading").addClass("on"),$("#main-content").addClass("main-content-hidden"),$("#header").addClass("header-hidden"),e.ajaxLoad(n)}),window.onpopstate=function(){e.ajaxLoad(document.location.origin+document.location.pathname)}},ajaxLoad:function(e){var i=this;$.ajax(e,{beforeSend:function(){i.ajaxBefore()},dataType:"html",error:function(e,n){i.ajaxErrorHandler(e,n)},success:function(n){i.ajaxSuccess(n,e),setTimeout(function(){$("#main-content").removeClass("main-content-hidden"),$("#header").removeClass("header-hidden"),$("#loading").removeClass("on")},animationSpeed)}})},ajaxBefore:function(){},ajaxErrorHandler:function(e,i){alert(i),l(e)},ajaxSuccess:function(e,i){var n=document.createElement("html");n.innerHTML=e;var t=$("body",n).attr("class"),s=$("title",n).text(),o=$("#header",e),a=$("#main-content",n);history.pushState(null,s,i),document.title=s,$("body").removeAttr("class").addClass(t),$("#main-content").html(a.html()),$("#header").html(o.html()),siteInit()}},siteInit();
//# sourceMappingURL=/main.min.js.map