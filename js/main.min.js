function l(e){"use strict";console.log(e)}var siteInit,Ajaxy,windowHeight=$(window).height(),animationSpeed=700,slideMargin=parseInt($("#header").css("padding-top"),10),headerTop=$("#header").offset().top,headerHeight=$("#header").outerHeight(),sliderHeight=windowHeight-headerHeight-slideMargin;siteInit=function(){Ajaxy.init(),$(".cycle-slideshow").cycle();var e={openSlideshow:function(e){if($(".slider-content").hasClass("slider-hidden")){var n;$(".cycle-slideshow").cycle("goto",e),$(".masonry-content").addClass("masonry-hidden"),$("#single-vimeo-embed").addClass("vimeo-hidden"),n=setTimeout(function(){$(".masonry-content").hide(),$(".slider-content").removeClass("slider-hidden"),$("#close-slider").removeClass("u-hidden"),$("#close-single").addClass("u-hidden")},animationSpeed)}},closeSlideshow:function(){var e;$(".slider-content").addClass("slider-hidden"),e=setTimeout(function(){$(".masonry-content").show(),$(".js-masonry-container").masonry(),$("#single-vimeo-embed").removeClass("vimeo-hidden"),$(".masonry-content").removeClass("masonry-hidden"),$(".slider-content").addClass("slider-hidden"),$("#close-slider").addClass("u-hidden"),$("#close-single").removeClass("u-hidden")},animationSpeed)}};jQuery(document).ready(function(){"use strict";if($("#splash").length){$("#splash").height(windowHeight),$("#main-container").removeClass("u-hidden").css("min-height",windowHeight),$(window).on("scroll",function(){$(window).scrollTop()>=$("#main-container").offset().top&&$("#splash").length&&n()}),$("#splash").on("click",function(){$("html, body").animate({scrollTop:$("#main-container").offset().top},animationSpeed)});var n=function(){$("#splash").remove(),$(".splash-margin").css("margin-top",0),$(window).scrollTop(0)}}$("body").hasClass("home")&&$(".js-menu-filter").on({click:function(e){e.preventDefault();var n=$(this).data("target").toLowerCase();"all"===n?($(".post").show(),$(".js-masonry-container").masonry()):($(".post").hide(),$(".category-"+n).show(),$(".js-masonry-container").masonry())}}),$(".js-masonry-container").length&&$(".js-masonry-container").imagesLoaded(function(){$(".js-masonry-container").masonry({itemSelector:".js-masonry-item",columnWidth:1,gutter:0,transitionDuration:"0s"}).css({opacity:1}),$(".feed-item-title").length&&$(".feed-item-title").css("visibility","visible")}),$(".slider-content").length&&($(".slider-item").css("height",sliderHeight),$(".slider-img").css("max-height",sliderHeight),$(document).keydown(function(n){switch(n.which){case 37:$(".cycle-slideshow").cycle("prev");break;case 39:$(".cycle-slideshow").cycle("next");break;case 27:e.closeSlideshow();break;default:return}})),$(".js-single-masonry-item").on({click:function(){var n=$(this).data("index");e.openSlideshow(n)}}),$("#close-slider").on({click:function(){e.closeSlideshow()}}),$("#main-container").css("padding-top",headerHeight),$("#splash").length?$(window).bind("scroll",function(){$(window).scrollTop()>0&&$("#splash-title").fadeOut(animationSpeed),headerTop=$("#splash").length?$("#header").offset().top:0,!$("#header").hasClass("u-fixed")&&$(window).scrollTop()>headerTop&&($("#header").addClass("u-fixed"),$(window).unbind("scroll"))}):$("#header").addClass("u-fixed"),$(window).on("resize",function(){windowHeight=$(window).height(),headerHeight=$("#header").outerHeight(),slideMargin=parseInt($("#header").css("padding-top"),10),sliderHeight=windowHeight-headerHeight-slideMargin,$("#main-container").css("min-height",windowHeight),$("#splash").length&&$("#splash").height(windowHeight),$(".slider-content").length&&($(".slider-item").css("height",sliderHeight),$(".slider-img").css("max-height",sliderHeight))})})},Ajaxy={init:function(){var e=this,n="a.ajax-link";($("body").hasClass("page")||$("body").hasClass("category"))&&(n+=", .js-menu-filter"),$(n).click(function(n){n.preventDefault();var i=n.currentTarget.href;$("#loading").addClass("on"),$("#main-content").addClass("main-content-hidden"),$("#header").addClass("header-hidden"),e.ajaxLoad(i)}),window.onpopstate=function(){e.ajaxLoad(document.location.origin+document.location.pathname)}},ajaxLoad:function(e){var n=this;$.ajax(e,{beforeSend:function(){n.ajaxBefore()},dataType:"html",error:function(e,i){n.ajaxErrorHandler(e,i)},success:function(i){n.ajaxSuccess(i,e),setTimeout(function(){$("#main-content").removeClass("main-content-hidden"),$("#header").removeClass("header-hidden"),$("#loading").removeClass("on")},animationSpeed)}})},ajaxBefore:function(){},ajaxErrorHandler:function(e,n){alert(n),l(e)},ajaxSuccess:function(e,n){var i=document.createElement("html");i.innerHTML=e;var s=$("body",i).attr("class"),t=$("title",i).text(),a=$("#header",e),o=$("#main-content",i);history.pushState(null,t,n),document.title=t,$("body").removeAttr("class").addClass(s),$("#main-content").html(o.html()),$("#header").html(a.html()),siteInit()}},siteInit();
//# sourceMappingURL=/main.min.js.map